<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>里昂星储—查询系统</title>
    <!-- 引入Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- Tailwind配置 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#165DFF',
                        secondary: '#36CBCB',
                        success: '#52C41A',
                        warning: '#FAAD14',
                        danger: '#FF4D4F',
                        info: '#1890FF',
                        dark: '#1F2937',
                        light: '#F3F4F6'
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif']
                    }
                }
            }
        }
    </script>
    <!-- 自定义样式 -->
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .tab-active {
                @apply border-b-2 border-primary text-primary font-medium;
            }
            .btn-primary {
                @apply bg-primary text-white px-4 py-2 rounded-md hover:bg-primary/90 transition-colors;
            }
            .btn-danger {
                @apply bg-danger text-white px-4 py-2 rounded-md hover:bg-danger/90 transition-colors;
            }
            .btn-secondary {
                @apply bg-gray-200 text-gray-800 px-4 py-2 rounded-md hover:bg-gray-300 transition-colors;
            }
            .input-field {
                @apply w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary;
            }
            .modal-backdrop {
                @apply fixed inset-0 bg-black/50 flex items-center justify-center z-50;
            }
            .modal-content {
                @apply bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto;
            }
            .image-grid {
                @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4;
            }
            .image-card {
                @apply border border-gray-200 rounded-lg overflow-hidden shadow-md transition-shadow hover:shadow-lg;
            }
            .table-responsive {
                @apply overflow-x-auto;
            }
            .data-table {
                @apply w-full border-collapse;
            }
            .data-table th,
            .data-table td {
                @apply border border-gray-300 p-2 text-center;
            }
            .data-table th {
                @apply bg-gray-50 font-medium;
            }
        }
    </style>
</head>
<body class="min-h-screen flex flex-col bg-gray-50 relative" id="app-body">
    <!-- 头部 -->
    <header class="bg-white shadow-sm sticky top-0 z-30">
        <div class="container mx-auto px-4 py-3 flex items-center justify-between">
            <!-- 左侧LOGO -->
            <div class="flex items-center space-x-3">
                <img id="site-logo" src="https://via.placeholder.com/50" alt="里昂星储" class="h-10 w-auto cursor-pointer hover:opacity-90 transition-opacity">
                <h1 class="text-xl font-bold text-dark">里昂星储—查询系统</h1>
            </div>
        </div>
    </header>

    <!-- 主要内容区 -->
    <main class="flex-grow container mx-auto px-4 py-6">
        <!-- 标签页导航 -->
        <div class="border-b border-gray-200 mb-6">
            <nav class="flex space-x-8">
                <button id="tab-announcement" class="tab-btn tab-active py-3 px-1" data-tab="announcement">
                    <i class="fa fa-bullhorn mr-2"></i>公告
                </button>
                <button id="tab-network" class="tab-btn py-3 px-1" data-tab="network">
                    <i class="fa fa-map-marker mr-2"></i>网点清单
                </button>
                <button id="tab-tariff" class="tab-btn py-3 px-1" data-tab="tariff">
                    <i class="fa fa-list-alt mr-2"></i>资费清单
                </button>
                <button id="tab-cabinet" class="tab-btn py-3 px-1" data-tab="cabinet">
                    <i class="fa fa-cubes mr-2"></i>在柜信息
                </button>
                <button id="tab-settings" class="tab-btn py-3 px-1" data-tab="settings">
                    <i class="fa fa-cog mr-2"></i>设置
                </button>
                <button id="tab-click" class="tab-btn py-3 px-1" data-tab="click">
                    <i class="fa fa-hand-pointer-o mr-2"></i>戳戳我
                </button>
            </nav>
        </div>

        <!-- 标签页内容 -->
        <div class="tab-content">
            <!-- 公告页面 -->
            <div id="announcement-content" class="tab-pane">
                <div class="bg-white rounded-lg shadow p-6">
                    <h2 class="text-lg font-semibold mb-4">公告信息</h2>
                    <div id="announcement-display" class="image-grid mb-6">
                        <div class="text-center py-12 text-gray-500">
                            <i class="fa fa-info-circle text-4xl mb-3"></i>
                            <p>等待数据上传</p>
                        </div>
                    </div>
                    <div class="text-center">
                        <button id="add-announcement" class="btn-primary">
                            <i class="fa fa-plus mr-1"></i>上传公告
                        </button>
                    </div>
                </div>
            </div>

            <!-- 网点清单页面 -->
            <div id="network-content" class="tab-pane hidden">
                <div class="bg-white rounded-lg shadow p-6">
                    <h2 class="text-lg font-semibold mb-4">网点清单</h2>
                    <div id="network-display" class="image-grid mb-6">
                        <div class="text-center py-12 text-gray-500">
                            <i class="fa fa-info-circle text-4xl mb-3"></i>
                            <p>等待数据上传</p>
                        </div>
                    </div>
                    <div class="text-center">
                        <button id="add-network" class="btn-primary">
                            <i class="fa fa-plus mr-1"></i>上传网点清单
                        </button>
                    </div>
                </div>
            </div>

            <!-- 资费清单页面 -->
            <div id="tariff-content" class="tab-pane hidden">
                <div class="bg-white rounded-lg shadow p-6">
                    <h2 class="text-lg font-semibold mb-4">资费清单</h2>
                    <div id="tariff-display" class="image-grid mb-6">
                        <div class="text-center py-12 text-gray-500">
                            <i class="fa fa-info-circle text-4xl mb-3"></i>
                            <p>等待数据上传</p>
                        </div>
                    </div>
                    <div class="text-center">
                        <button id="add-tariff" class="btn-primary">
                            <i class="fa fa-plus mr-1"></i>上传资费清单
                        </button>
                    </div>
                </div>
            </div>

            <!-- 在柜信息页面 -->
            <div id="cabinet-content" class="tab-pane hidden">
                <div class="bg-white rounded-lg shadow p-6 mb-6">
                    <h2 class="text-lg font-semibold mb-4">在柜信息</h2>
                    <div class="table-responsive mb-6">
                        <table id="cabinet-display" class="data-table">
                            <thead>
                                <tr>
                                    <th>区域</th>
                                    <th>大区</th>
                                    <th>编号</th>
                                    <th>类型</th>
                                    <th>存放位置</th>
                                    <th>状态</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td colspan="7" class="py-12 text-gray-500">
                                        <i class="fa fa-info-circle text-2xl mb-2"></i>
                                        <p>等待数据上传</p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="text-center">
                        <button id="add-cabinet" class="btn-primary">
                            <i class="fa fa-plus mr-1"></i>上传在柜信息
                        </button>
                    </div>
                </div>

                <div class="bg-white rounded-lg shadow p-6">
                    <h2 class="text-lg font-semibold mb-4">取件人信息</h2>
                    <div class="table-responsive mb-6">
                        <table id="recipient-display" class="data-table">
                            <thead>
                                <tr>
                                    <th>待取件编号</th>
                                    <th>取件人姓名</th>
                                    <th>联系电话</th>
                                    <th>身份证明号码后四位</th>
                                    <th>操作</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td colspan="5" class="py-12 text-gray-500">
                                        <i class="fa fa-info-circle text-2xl mb-2"></i>
                                        <p>等待数据上传</p>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="text-center">
                        <button id="add-recipient" class="btn-primary">
                            <i class="fa fa-plus mr-1"></i>上传取件人信息
                        </button>
                    </div>
                </div>
            </div>

            <!-- 设置页面 -->
            <div id="settings-content" class="tab-pane hidden">
                <div class="bg-white rounded-lg shadow p-6">
                    <h2 class="text-lg font-semibold mb-6">系统设置</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <!-- LOGO设置 -->
                        <div class="border border-gray-200 rounded-lg p-4">
                            <h3 class="text-md font-medium mb-3">LOGO设置</h3>
                            <div class="text-center mb-4">
                                <img id="logo-preview" src="https://via.placeholder.com/150" alt="Logo预览" class="mx-auto h-32 w-auto cursor-pointer border border-gray-200 rounded-lg p-1 hover:opacity-90 transition-opacity">
                            </div>
                            <div class="space-y-2">
                                <button id="change-logo" class="btn-primary w-full">
                                    <i class="fa fa-upload mr-1"></i>更换LOGO
                                </button>
                                <button id="delete-logo" class="btn-danger w-full">
                                    <i class="fa fa-trash mr-1"></i>删除LOGO
                                </button>
                            </div>
                        </div>

                        <!-- 背景设置 -->
                        <div class="border border-gray-200 rounded-lg p-4">
                            <h3 class="text-md font-medium mb-3">背景设置</h3>
                            <div class="text-center mb-4">
                                <img id="bg-preview" src="https://via.placeholder.com/150" alt="背景预览" class="mx-auto h-32 w-auto cursor-pointer border border-gray-200 rounded-lg p-1 hover:opacity-90 transition-opacity">
                            </div>
                            <div class="space-y-2">
                                <button id="change-bg" class="btn-primary w-full">
                                    <i class="fa fa-upload mr-1"></i>更换背景
                                </button>
                                <button id="delete-bg" class="btn-danger w-full">
                                    <i class="fa fa-trash mr-1"></i>删除背景
                                </button>
                            </div>
                        </div>

                        <!-- 戳戳我设置 -->
                        <div class="border border-gray-200 rounded-lg p-4">
                            <h3 class="text-md font-medium mb-3">戳戳我设置</h3>
                            <div class="text-center mb-4">
                                <img id="click-preview" src="https://via.placeholder.com/150" alt="戳戳我预览" class="mx-auto h-32 w-auto cursor-pointer border border-gray-200 rounded-lg p-1 hover:opacity-90 transition-opacity">
                            </div>
                            <div class="space-y-2">
                                <button id="change-click" class="btn-primary w-full">
                                    <i class="fa fa-upload mr-1"></i>更换图片
                                </button>
                                <button id="delete-click" class="btn-danger w-full">
                                    <i class="fa fa-trash mr-1"></i>删除图片
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 戳戳我页面 -->
            <div id="click-content" class="tab-pane hidden">
                <div class="bg-white rounded-lg shadow p-6">
                    <h2 class="text-lg font-semibold mb-4">戳戳我</h2>
                    <div id="click-display" class="flex justify-center items-center mb-6">
                        <div class="text-center py-12 text-gray-500">
                            <i class="fa fa-info-circle text-4xl mb-3"></i>
                            <p>等待数据上传</p>
                        </div>
                    </div>
                    <div class="text-center">
                        <button id="add-click" class="btn-primary">
                            <i class="fa fa-plus mr-1"></i>上传戳戳我图片
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- 模态框 -->
    <div id="modal" class="modal-backdrop hidden">
        <div class="modal-content p-6">
            <div class="flex justify-between items-center mb-4">
                <h3 id="modal-title" class="text-lg font-semibold"></h3>
                <button id="close-modal" class="text-gray-500 hover:text-gray-700 text-xl">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            <div id="modal-body">
                <!-- 模态框内容将动态生成 -->
            </div>
            <div class="flex justify-end space-x-3 mt-6">
                <button id="cancel-modal" class="btn-secondary">取消</button>
                <button id="submit-modal" class="btn-primary">确定</button>
            </div>
        </div>
    </div>

    <!-- 图片查看器 -->
    <div id="image-viewer" class="fixed inset-0 bg-black/90 z-50 hidden flex items-center justify-center">
        <button id="close-viewer" class="absolute top-4 right-4 text-white text-3xl hover:text-gray-300">
            <i class="fa fa-times"></i>
        </button>
        <img id="viewer-image" src="" alt="预览图片" class="max-h-[90vh] max-w-[90vw]">
    </div>

    <!-- 密码验证模态框 -->
    <div id="password-modal" class="modal-backdrop hidden">
        <div class="modal-content p-6 max-w-md">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-semibold">身份验证</h3>
                <button id="close-password" class="text-gray-500 hover:text-gray-700 text-xl">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            <div class="text-center mb-4">
                <i class="fa fa-lock text-4xl text-primary mb-3"></i>
                <p id="password-prompt" class="mb-4">请输入管理密码</p>
                <input type="password" id="password-input" class="input-field" placeholder="请输入密码">
                <p id="password-error" class="text-danger text-sm mt-2 hidden">密码错误，请重试</p>
            </div>
            <div class="flex justify-end space-x-3">
                <button id="cancel-password" class="btn-secondary">取消</button>
                <button id="submit-password" class="btn-primary">确认</button>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // 初始化应用
        document.addEventListener('DOMContentLoaded', function() {
            // 从localStorage恢复上次选中的标签
            const lastActiveTab = localStorage.getItem('activeTab') || 'announcement';
            showTab(lastActiveTab);
            
            // 恢复自定义设置
            loadSettings();
            
            // 标签页切换
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    showTab(tabId);
                    localStorage.setItem('activeTab', tabId);
                });
            });

            // 加载数据
            loadAllData();
        });
    </script>
</body>
</html>
