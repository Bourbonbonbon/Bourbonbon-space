<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>波本本的分享空间</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Microsoft YaHei', sans-serif; }
        body { background-color: #f5f7fa; color: #333; transition: background-image 0.5s; background-size: cover; background-position: center; background-attachment: fixed; min-height: 100vh; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        
        /* 头部样式 */
        header { display: flex; align-items: center; justify-content: space-between; padding: 15px 0; border-bottom: 2px solid #e1e5eb; margin-bottom: 20px; background-color: rgba(255, 255, 255, 0.9); border-radius: 10px; padding: 15px 20px; }
        .logo-container { display: flex; align-items: center; cursor: pointer; }
        .logo { width: 60px; height: 60px; border-radius: 50%; object-fit: cover; border: 2px solid #4a6fa5; margin-right: 15px; }
        .site-title { font-size: 28px; font-weight: bold; color: #2c3e50; }
        
        /* 标签页导航 */
        .tabs { display: flex; flex-wrap: wrap; background-color: rgba(255, 255, 255, 0.9); border-radius: 10px; margin-bottom: 20px; overflow: hidden; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05); }
        .tab { flex: 1; min-width: 110px; padding: 15px 10px; text-align: center; background-color: #f8f9fa; border: none; cursor: pointer; font-size: 15px; font-weight: 500; color: #555; transition: all 0.3s; border-right: 1px solid #eaeaea; }
        .tab:last-child { border-right: none; }
        .tab:hover { background-color: #e9ecef; color: #2c3e50; }
        .tab.active { background-color: #4a6fa5; color: white; font-weight: 600; }
        
        /* 标签页内容 */
        .tab-content { background-color: rgba(255, 255, 255, 0.95); border-radius: 10px; padding: 25px; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05); min-height: 500px; display: none; }
        .tab-content.active { display: block; }
        .tab-title { font-size: 22px; color: #2c3e50; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 2px solid #eaeaea; }
        
        /* 图片显示区域 */
        .images-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .image-item { background-color: white; border-radius: 8px; overflow: hidden; box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08); transition: transform 0.3s; }
        .image-item:hover { transform: translateY(-5px); box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1); }
        .image-preview { width: 100%; height: 200px; object-fit: cover; cursor: pointer; border-bottom: 1px solid #eee; }
        .image-info { padding: 15px; }
        .image-info p { margin-bottom: 8px; font-size: 14px; color: #555; }
        .image-info p strong { color: #333; margin-right: 5px; }
        
        /* 表单样式 */
        .password-section { background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 25px; border: 1px dashed #ccc; }
        .password-input { width: 100%; padding: 12px 15px; border: 1px solid #ddd; border-radius: 6px; font-size: 16px; margin-bottom: 15px; }
        .form-container { background-color: #f8f9fa; padding: 25px; border-radius: 8px; margin-top: 20px; }
        .form-group { margin-bottom: 20px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 600; color: #444; }
        .form-control { width: 100%; padding: 12px 15px; border: 1px solid #ddd; border-radius: 6px; font-size: 15px; }
        .btn { padding: 12px 25px; background-color: #4a6fa5; color: white; border: none; border-radius: 6px; font-size: 16px; cursor: pointer; transition: background-color 0.3s; }
        .btn:hover { background-color: #3a5a85; }
        
        /* 模态框样式 */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.8); z-index: 1000; justify-content: center; align-items: center; }
        .modal.active { display: flex; }
        .modal-content { max-width: 90%; max-height: 90%; background-color: white; border-radius: 10px; overflow: hidden; }
        .modal-image { width: 100%; height: 100%; object-fit: contain; }
        .close-modal { position: absolute; top: 20px; right: 30px; color: white; font-size: 40px; cursor: pointer; background: none; border: none; }
        
        .empty-message { text-align: center; padding: 40px 20px; color: #888; font-size: 18px; background-color: #f9f9f9; border-radius: 8px; border: 2px dashed #ddd; }
        
        @media (max-width: 768px) {
            .tabs { overflow-x: auto; flex-wrap: nowrap; }
            .tab { min-width: 120px; white-space: nowrap; }
            .images-container { grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo-container">
                <img id="site-logo" class="logo" src="" alt="站点LOGO">
                <div class="site-title">波本本的分享空间</div>
            </div>
        </header>
        
        <div class="tabs">
            <button class="tab active" data-tab="picture-share">图片分享</button>
            <button class="tab" data-tab="picture-data">图片数据访问</button>
            <button class="tab" data-tab="daily-log">流水账</button>
            <button class="tab" data-tab="log-data">流水账数据访问</button>
            <button class="tab" data-tab="send-picture">发片</button>
            <button class="tab" data-tab="register">登记</button>
            <button class="tab" data-tab="data-access">发收数据访问</button>
            <button class="tab" data-tab="settings">标志和背景设置</button>
            <button class="tab" data-tab="poke-me">戳戳我</button>
        </div>
        
        <!-- 各标签页内容（简化示例） -->
        <div id="picture-share" class="tab-content active">
            <h2 class="tab-title">图片分享</h2>
            <div class="images-container" id="picture-share-container">
                <div class="empty-message">等待图片上传</div>
            </div>
            <div class="form-container">
                <div class="password-section">
                    <input type="password" class="password-input" id="picture-password" placeholder="请输入图片上传管理密码">
                    <button class="btn" id="picture-password-btn">验证密码</button>
                </div>
            </div>
        </div>
        
        <div id="poke-me" class="tab-content">
            <h2 class="tab-title">戳戳我</h2>
            <div class="poke-container">
                <div id="poke-image-container">
                    <div class="empty-message">等待戳戳我图片上传</div>
                </div>
            </div>
        </div>
        
        <!-- 其他标签页... -->
    </div>
    
    <!-- 图片放大查看模态框 -->
    <div id="image-modal" class="modal">
        <button class="close-modal">&times;</button>
        <div class="modal-content">
            <img id="modal-image" class="modal-image" src="" alt="放大图片">
        </div>
    </div>
    
    <script>
        // 存储密钥
        const STORAGE_KEYS = {
            PICTURES: 'bourbonbon_pictures',
            LOGS: 'bourbonbon_logs',
            SEND_PICTURES: 'bourbonbon_send_pictures',
            REGISTERS: 'bourbonbon_registers',
            LOGO: 'bourbonbon_logo',
            BACKGROUND: 'bourbonbon_background',
            POKE_IMAGE: 'bourbonbon_poke_image',
            ACTIVE_TAB: 'bourbonbon_active_tab'
        };
        
        // 密码设置
        const PASSWORDS = {
            DEFAULT: '740302',
            SEND_REGISTER: '000000'
        };
        
        // 初始化
        document.addEventListener('DOMContentLoaded', function() {
            initApp();
        });
        
        function initApp() {
            // 初始化存储
            initializeStorage();
            
            // 设置标签页切换
            setupTabs();
            
            // 加载数据
            loadInitialData();
            
            // 设置图片模态框
            setupModal();
        }
        
        function initializeStorage() {
            const keys = Object.values(STORAGE_KEYS);
            keys.forEach(key => {
                if (!localStorage.getItem(key)) {
                    if (key === STORAGE_KEYS.ACTIVE_TAB) {
                        localStorage.setItem(key, 'picture-share');
                    } else if (key.includes('IMAGE') || key.includes('LOGO') || key.includes('BACKGROUND')) {
                        // 图片类数据不初始化
                    } else {
                        localStorage.setItem(key, JSON.stringify([]));
                    }
                }
            });
        }
        
        function setupTabs() {
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');
            
            // 从存储中获取上次活动的标签页
            const lastActiveTab = localStorage.getItem(STORAGE_KEYS.ACTIVE_TAB) || 'picture-share';
            
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // 更新标签页状态
                    tabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(c => c.classList.remove('active'));
                    
                    this.classList.add('active');
                    document.getElementById(tabId).classList.add('active');
                    
                    // 保存当前标签页
                    localStorage.setItem(STORAGE_KEYS.ACTIVE_TAB, tabId);
                    
                    // 加载该标签页的数据
                    loadTabData(tabId);
                });
                
                // 激活上次的标签页
                if (tab.getAttribute('data-tab') === lastActiveTab) {
                    tab.click();
                }
            });
        }
        
        function loadInitialData() {
            // 加载LOGO
            const logoData = localStorage.getItem(STORAGE_KEYS.LOGO);
            if (logoData) {
                document.getElementById('site-logo').src = logoData;
            }
            
            // 加载背景
            const bgData = localStorage.getItem(STORAGE_KEYS.BACKGROUND);
            if (bgData) {
                document.body.style.backgroundImage = `url(${bgData})`;
            }
            
            // 加载戳戳我图片
            const pokeData = localStorage.getItem(STORAGE_KEYS.POKE_IMAGE);
            if (pokeData) {
                const container = document.getElementById('poke-image-container');
                container.innerHTML = `<img src="${pokeData}" class="poke-image" alt="戳戳我图片" onclick="showImageModal('${pokeData}')">`;
            }
        }
        
        function loadTabData(tabId) {
            // 根据标签页ID加载相应数据
            switch(tabId) {
                case 'picture-share':
                    loadPictures();
                    break;
                case 'poke-me':
                    loadPokeImage();
                    break;
                // 其他标签页的数据加载...
            }
        }
        
        function loadPictures() {
            const pictures = JSON.parse(localStorage.getItem(STORAGE_KEYS.PICTURES) || '[]');
            const container = document.getElementById('picture-share-container');
            
            if (pictures.length === 0) {
                container.innerHTML = '<div class="empty-message">等待图片上传</div>';
                return;
            }
            
            let html = '';
            pictures.forEach(pic => {
                html += `
                    <div class="image-item">
                        <img src="${pic.image}" class="image-preview" alt="分享图片" onclick="showImageModal('${pic.image}')">
                        <div class="image-info">
                            <p><strong>上传人:</strong> ${pic.uploader}</p>
                            <p><strong>上传日期:</strong> ${pic.date}</p>
                            <p><strong>上传地点:</strong> ${pic.location}</p>
                            <p><strong>备注:</strong> ${pic.note}</p>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        function loadPokeImage() {
            const pokeData = localStorage.getItem(STORAGE_KEYS.POKE_IMAGE);
            const container = document.getElementById('poke-image-container');
            
            if (!pokeData) {
                container.innerHTML = '<div class="empty-message">等待戳戳我图片上传</div>';
                return;
            }
            
            container.innerHTML = `<img src="${pokeData}" class="poke-image" alt="戳戳我图片" onclick="showImageModal('${pokeData}')">`;
        }
        
        function setupModal() {
            const modal = document.getElementById('image-modal');
            const closeBtn = document.querySelector('.close-modal');
            
            closeBtn.addEventListener('click', function() {
                modal.classList.remove('active');
            });
            
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    modal.classList.remove('active');
                }
            });
        }
        
        // 全局函数：显示图片模态框
        window.showImageModal = function(imageSrc) {
            const modal = document.getElementById('image-modal');
            const modalImage = document.getElementById('modal-image');
            
            modalImage.src = imageSrc;
            modal.classList.add('active');
        };
        
        // 为密码验证按钮添加事件
        document.getElementById('picture-password-btn').addEventListener('click', function() {
            const password = document.getElementById('picture-password').value;
            if (password === PASSWORDS.DEFAULT) {
                // 显示上传表单
                alert('密码正确，显示上传表单（完整功能需完整代码）');
            } else {
                alert('密码错误！');
            }
        });
    </script>
</body>
</html>
